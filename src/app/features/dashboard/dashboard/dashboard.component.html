<main class="pb-12">
  <app-header />

  <div class="p-6 md:p-8 md:pt-0 flex flex-col justify-center">
    <app-clock />

    <app-finder />

    <app-categories class="flex items-center justify-center" />

    <!-- Apps grid -->
    @if (filteredApps$ | async; as apps) {
      @if (apps.length > 0) {
        <section
          [class]="`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-${itemsPerRow} gap-4 md:gap-6`"
          role="list"
          aria-label="Applications"
        >
          @for (app of apps; track app.id) {
            <app-card [app]="app" (appClick)="onAppClick(app)"></app-card>
          }
        </section>
      } @else {
        <!-- Empty state -->
        <section
          class="bg-white/10 backdrop-blur-xl border border-white/20 rounded-3xl p-12 md:p-16 text-center shadow-lg"
        >
          <div class="text-6xl mb-4">üîç</div>
          <h2 class="text-2xl font-semibold text-white mb-2">No applications found</h2>
          <p class="text-white/70">
            @if (searchQuery$ | async) {
              Try adjusting your search query or select a different category.
            } @else {
              Add some applications to your dashboard.yaml configuration.
            }
          </p>
        </section>
      }
    } @else {
      <app-loading />
    }
  </div>

  <app-footer />
</main>
